# javascript 实现两个大数的相加

## 大数超出了 Javascript 的数值范围，用字符串表示

    function sumString(a, b) {
      a = '0' + a;
      b = '0' + b;  //加'0'首先是为了转为字符串，而且两个数相加后可能需要进位，这样保证了和的长度就是a、b中长的那个字符的长度
      var arrA = a.split(''),  //将字符串转为数组
          arrB = b.split(''),
          res = [],  //相加结果组成的数组
          temp = '',  //相同位数相加的值
          carry = 0,  //同位数相加结果大于等于10时为1，否则为0
          distance = a.length - b.length,  //计算两个数字字符串的长度差
          len = distance > 0 ? a.length : b.length;  //和的长度
      // 在长度小的那个值前加distance个0，保证两个数相加之前长度是想等的
      if(distance > 0) {
        for(let i = 0; i < distance; i++) {
          arrB.unShift('0');
        }
      }else{
        for(let i = 0; i < distance; i++) {
          arrA.unShift('0');
        }
      }
      // 现在得到了两个长度一致的数组，需要做的就是把他们想通位数的值相加，大于等于10的要进一
      // 最终得到一个和组成的数组，将数组转为字符串，去掉前面多余的0就得到了最终的和
      for(let i = len-1; i >= 0; i--) {
        temp = Number(arrA[i]) + Number(arrB[i]) + carry;
        if(temp >= 10) {
          carry = 1;
          res.unshift((temp + '')[1])
        }
        else{
          carry = 0;
          res.unshift(temp)
        }
      }
      res = res.join('').replace(/^0/, '');
      console.log(res);
    }

大数一：<input class='num1' /></br>
大数二：<input class='num2'/>

<p>请输入两个大数测试</p>

<button class='but' onClick='add()'>确定</button>
    <script>
      function sumString(a, b) {
        //取两个数字的最大长度
        let maxLength = Math.max(a.length, b.length);
        //用0去补齐长度
        a = a.padStart(maxLength, 0); //"0009007199254740991"
        b = b.padStart(maxLength, 0); //"1234567899999999999"
        //定义加法过程中需要用到的变量
        let t = 0;
        let f = 0; //"进位"
        let sum = "";
        for (let i = maxLength - 1; i >= 0; i--) {
          t = parseInt(a[i]) + parseInt(b[i]) + f;
          f = Math.floor(t / 10);
          sum = (t % 10) + sum;
        }
        if (f == 1) {
          sum = "1" + sum;
        }
        return sum;
      }
      function add() {
        var num1 =document.querySelector(".num1");
        console.log(typeof(num1))
        console.log(num1.value)
        var num2 = document.querySelector(".num2");
        console.log(typeof(num2))
        var but = document.querySelector("p");
        but.textContent = sumString(num1.value, num2.value);

      }
    </script>
